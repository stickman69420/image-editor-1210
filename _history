{"entries":[{"timestamp":1744200828878,"editorVersion":"2.0.48","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":84,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"gamesetbackgroundimage\"><value name=\"img\"><shadow type=\"background_image_picker\"><field name=\"img\">img`\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":\"%m!.}3[BJr,o/9bG+=uP\"}}</data></shadow><block type=\"Image_Editor_drawVoronoiDiagram\"><value name=\"Xsize\"><shadow type=\"math_number\"><field name=\"NUM\">160</field></shadow></value><value name=\"Ysize\"><shadow type=\"math_number\"><field name=\"NUM\">120</field></shadow></value><value name=\"numPoints\"><shadow type=\"math_number\"><field name=\"NUM\">57</field></shadow></value></block></value></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":1,"diffs":[[1,"scene.setBackgroundImage(Image_Editor.drawVoronoiDiagram(57, 160, 120))\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":242,"length1":44,"diffs":[[1,""]]}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"}]}],"snapshots":[{"timestamp":1744200828877,"editorVersion":"2.0.48","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"gamesetbackgroundimage\"><value name=\"img\"><shadow type=\"background_image_picker\"><field name=\"img\">img`\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n................................................................................................................................................................\n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":\"%m!.}3[BJr,o/9bG+=uP\"}}</data></shadow><block type=\"Image_Editor_drawVoronoiDiagram\"><value name=\"Xsize\"><shadow type=\"math_number\"><field name=\"NUM\">160</field></shadow></value><value name=\"Ysize\"><shadow type=\"math_number\"><field name=\"NUM\">120</field></shadow></value><value name=\"numPoints\"><shadow type=\"math_number\"><field name=\"NUM\">57</field></shadow></value></block></value></block></statement></block></xml>","main.ts":"","README.md":" ","assets.json":"","ImageUtil.ts":"namespace SpriteKind {\n    export const Temporary = SpriteKind.create()\n}\nlet bgX = 0\nlet bgY = 0\nlet ID54656D704E756D3220 = 0\nlet closestPoint: number[] = []\nlet dist = 0\nlet points: number[][] = []\nlet y = 0\nlet x = 0\nlet TempImg: Image = null\nenum DegréesToRotate {\n    clockwise = 1,\n    counterclockwise = 2,\n    dubbleClockwise = 3\n}\nenum Size {\n    Whith = 1,\n    Hight = 2\n}\n\nfunction _1DPixelValue121(X: number, Img: Image) {\n    return (Img.getPixel(X + 1, 0) + (Img.getPixel(X - 1, 0) + Img.getPixel(X, 0))) / 3\n}\nfunction ID506978656C56616C7565(X: number, Y: number, Image2: Image) {\n    return (Image2.getPixel(X + 1, Y) + Image2.getPixel(X - 1, Y) + (Image2.getPixel(X, Y + 1) + Image2.getPixel(X, Y - 1)) + (Image2.getPixel(X + 1, Y + 1) + Image2.getPixel(X + 1, Y - 1) + (Image2.getPixel(X - 1, Y + 1) + Image2.getPixel(X - 1, Y - 1)))) / 8\n}\n/**\n * Image Editor\n */\n//% weight=49 color=#e38527 icon=\"\\uf1c5\"\nnamespace Image_Editor {\n    //% block=\"draw Bezier curve from x$x1 y$y1 to x$x3 y$y3 with control points x$x2 y$y2 in$image\"\n    //% image.shadow=screen_image_picker\n    export function DrawBezierCurve(x1: number, y1: number, x2: number, y2: number, x3: number, y3: number, image: Image) {\n        let t = 0\n        let resolution = (y3 + y1) * (x3 + x1) / 3\n        for (let i = 0; i <= resolution; i++) {\n            t = i / resolution\n            let x = (1 - t) * (1 - t) * x1 + 2 * (1 - t) * t * x2 + t * t * x3\n            let y = (1 - t) * (1 - t) * y1 + 2 * (1 - t) * t * y2 + t * t * y3\n            image.setPixel(x, y, 1)\n        }\n        return image\n    }\n    /**\n     * TODO: draw myImage onto myImage2,\n     * @param myImage myImage,\n     * @param myImage2 myImage2,\n     */\n    //% block=\"draw $myImage onto $myImage2\"\n    //% myImage.shadow=screen_image_picker\n    //% myImage2.shadow=screen_image_picker\n    export function Print(myImage: Image, myImage2: Image): Image {\n        TempImg = myImage2.clone()\n        for (let X = 0; X <= TempImg.width; X++) {\n            for (let Y = 0; Y <= TempImg.height; Y++) {\n                if (myImage.getPixel(X, Y) != 0) {\n                    myImage2.setPixel(X, Y, myImage.getPixel(X, Y))\n                }\n            }\n        }\n        return myImage2\n    }\n    //% block=\"draw VoronoiDiagram length$Xsize height$Ysize with$numPoints points\"\n    export function drawVoronoiDiagram(numPoints: number, Xsize: number, Ysize: number) {\n        TempImg = image.create(Xsize, Ysize)\n        points = []\n        // Generate random points if none are provided\n        if (0 == null || points.length < numPoints) {\n            for (let index = 0; index < numPoints; index++) {\n                x = randint(0, TempImg.width)\n                y = randint(0, TempImg.height)\n                points.push([x, y])\n                screen.drawCircle(x, y, 2, 1)\n            }\n        }\n        points = points.slice(0, numPoints)\n        // Calculate and draw Voronoi diagram\n        for (let y2 = 0; y2 <= TempImg.height - 1; y2++) {\n            for (let x2 = 0; x2 <= TempImg.width - 1; x2++) {\n                let closestDist = Infinity\n                // Find closest point to current pixel\n                for (let j = 0; j <= numPoints - 1; j++) {\n                    dist = Math.sqrt((points[j][0] - x2) ** 2 + (points[j][1] - y2) ** 2)\n                    if (dist < closestDist) {\n                        closestDist = dist\n                        closestPoint = points[j]\n                    }\n                }\n                TempImg.setPixel(x2, y2, closestPoint[0] * closestPoint[1] % 15 + closestPoint[0])\n            }\n        }\n        return TempImg\n    }\n\n    /**\n     * TODO: 1D Noise Image Witht 160 Thicness 3,\n     * @param W The Width you want,\n     * @param Thicness how big the spots are,\n     */\n    //% block=\"1D Noise Image Witht $W Thicness $Thicness\"\n    //% W.defl=160\n    //% Thicness.defl=2\n    export function CreateNoiseImage1D(W: number, Thicness: number): Image {\n        TempImg = image.create(W, 1)\n        for (let X = 0; X <= W; X++) {\n            TempImg.setPixel(X, 0, randint(3, 15))\n        }\n        for (let i = 0; i < Thicness; i++) {\n            for (let X2 = 0; X2 <= W; X2++) {\n                TempImg.setPixel(X2, 0, _1DPixelValue121(X2, TempImg))\n            }\n        }\n        return TempImg\n    }\n\n\n    /**\n     * TODO: describe your function here, makes perline noise from en image\n     * @param Image2 the image to Create prerline noise,\n     * @param BlendingLevel the Blending Level,\n     */\n    //% block=\"2D Noise Image Witht $W Height $H Thicness $BlendingLevel\"\n    //% BlendingLevel.defl=3\n    //% W.defl=160\n    //% H.defl=120\n    //% BlendingLevel.number\n    export function CreateNoiseImage2D(W: number, H: number, BlendingLevel: number): Image {\n        TempImg = image.create(W, H)\n        for (let X = 0; X <= TempImg.width; X++) {\n            for (let Y = 0; Y <= TempImg.height; Y++) {\n                if (X == 0 || Y == 0 || X == TempImg.width - 1 || Y == TempImg.height - 1) {\n                    TempImg.setPixel(X, Y, randint(8, 14))\n                } else {\n                    TempImg.setPixel(X, Y, randint(3, 15))\n                }\n            }\n        }\n        for (let Times = 0; Times <= 1; Times++) {\n            for (let X2 = 0; X2 <= TempImg.width; X2++) {\n                TempImg.setPixel(X2, Times * (TempImg.height - 1), ID506978656C56616C7565(X2, Times * (TempImg.height - 1), TempImg) + 1)\n            }\n            for (let Y2 = 0; Y2 <= TempImg.height; Y2++) {\n                TempImg.setPixel(Times * (TempImg.width - 1), Y2, ID506978656C56616C7565(Times * (TempImg.width - 1), Y2, TempImg) + 1)\n            }\n        }\n        for (let Times = 0; Times < BlendingLevel; Times++) {\n            for (let X2 = 0; X2 <= TempImg.width - 3; X2++) {\n                for (let Y2 = 0; Y2 <= TempImg.height - 3; Y2++) {\n                    TempImg.setPixel(X2 + 1, Y2 + 1, ID506978656C56616C7565(X2 + 1, Y2 + 1, TempImg))\n                }\n            }\n        }\n\n        return TempImg\n    }\n    /**\n     * TODO: describe your function here, rotate any square image\n     * @param myImage describe parameter here, the image you want to rotate\n    * @param Rotate describe parameter here, rotate it clockwise or counterclockwise\n     */\n    //% block=\"Rotate $myImage 90° $Rotate\"\n    //% myImage.shadow=screen_image_picker\n    //% Rotate.enum\n\n    export function Rotate(myImage: Image, Rotate: DegréesToRotate): Image {\n        TempImg = image.create(myImage.width, myImage.height)\n        if (Rotate == 1) {\n            for (let X1 = 0; X1 <= TempImg.width; X1++) {\n                for (let Y1 = 0; Y1 <= TempImg.height; Y1++) {\n                    TempImg.setPixel(X1, Y1, myImage.getPixel(myImage.height - Y1, X1))\n                }\n            }\n        } else if (Rotate == 2) {\n            for (let X2 = 0; X2 <= TempImg.width; X2++) {\n                for (let Y2 = 0; Y2 <= TempImg.height; Y2++) {\n                    TempImg.setPixel(X2, Y2, myImage.getPixel(Y2, myImage.width - X2))\n                }\n            }\n        } else {\n            myImage.flipX()\n            myImage.flipY()\n        }\n        return TempImg\n    }\n\n    /**\n     * TODO: describe your function here, find the width or the height of en image\n     * @param image describe parameter here, the image you want to find the width or the height\n    * @param size describe parameter here, Choose if you want to know the width or the height\n     */\n    //% block=\"$size of $MyImage \"\n    //% MyImage.shadow=screen_image_picker\n    //% size.Size\n    // come back to this one \n    export function FindSizeOf(size: Size, MyImage: Image): number {\n        if (size == 1) {\n            return MyImage.width\n        } else {\n            return MyImage.height\n        }\n    }\n    /**\n     * TODO: describe your function here, maks a grid with your image\n     * @param image describe parameter here, The image you want to make a grid of\n     * @param Xtimes describe parameter here, the amont of times to place your image on the X axes\n     * @param Ytimes describe parameter here, the amont of times to place your image on the Y axes\n     */\n    //% block=\"Grid of $imagE size x $Xtimes y $Ytimes\"\n    //% imagE.shadow=screen_image_picker\n    //% Xtimes.Number\n    //% Ytimes.Number\n    export function MakeGrid(imagE: Image, Xtimes: number, Ytimes: number): Image {\n        TempImg = image.create(imagE.width * Xtimes, imagE.height * Ytimes)\n        for (let X = 0; X <= imagE.width * Xtimes; X++) {\n            for (let Y = 0; Y <= imagE.height * Ytimes; Y++) {\n\n                TempImg.setPixel(X, Y, imagE.getPixel(X % imagE.width, Y % imagE.height))\n            }\n        }\n        return TempImg\n    }\n    //% block=\"Draw $background onto $foreground x$offsetX y$offsetY\"\n    //% background.shadow=screen_image_picker\n    //% foreground.shadow=screen_image_picker\n    //% foreground.width.defl=160\n    //% foreground.height.defl=120\n    //% offsetX.number\n    //% offsetY.number\n    export function pasteImage(background: Image, foreground: Image, offsetX: number, offsetY: number): Image {\n        bgY = 0\n        bgX = 0\n        for (let x = 0; x <= Math.max(background.width, foreground.width) - 1; x++) {\n            for (let y = 0; y <= background.height - 1; y++) {\n                // Calculate the coordinates in the background image\n                bgX = x + offsetX\n                bgY = y + offsetY\n                // Check if this pixel is inside the bounds of the background image\n                if ((!(background.getPixel(bgX, bgY) == 0)) && (bgX >= 0 && bgX < foreground.width && bgY >= 0 && bgY < foreground.height)) {\n                    // Set the color of the corresponding pixel in the background image\n                    foreground.setPixel(bgX, bgY, background.getPixel(x, y))\n                }\n            }\n        }\n        return foreground\n    }\n    //% block=\"cut $Img from x$x1 y$y1 to x$x2 y$y2\"\n    //% Img.shadow=screen_image_picker\n    export function cutImage(x1: number, y1: number, x2: number, y2: number, Img: Image): Image {\n        TempImg = image.create(x2 - x1 + 1, y2 - y1 + 1)\n        for (let i = 0; i <= x2; i++) {\n            for (let j = 0; j <= y2; j++) {\n                TempImg.setPixel(i + x1, j + y1, Img.getPixel(i, j))\n            }\n        }\n        return TempImg\n    }\n    //% block=\"Resize $myImage to $num\"\n    //% myImage.shadow=screen_image_picker\n    export function Resize(num: number, myImage: Image): Image {\n        let TempImg = image.create(myImage.width * num, myImage.height * num)\n        for (let x = 0; x <= myImage.width * num; x++) {\n            for (let y = 0; y <= myImage.height * num; y++) {\n                TempImg.setPixel(x, y, myImage.getPixel(x / num, y / num))\n            }\n        }\n        return TempImg\n    }\n    //% block=\"set size of $myImage to x $num y $num2\"\n    //% myImage.shadow=screen_image_picker\n    export function ResizeExact(num: number, num2: number, myImage: Image): Image {\n        TempImg = image.create(num, num2)\n        for (let x = 0; x <= num; x++) {\n            for (let y = 0; y <= num2; y++) {\n                TempImg.setPixel(x, y, myImage.getPixel(x * (myImage.width / num), y * (myImage.height / num2)))\n            }\n        }\n        return TempImg\n    }\n\n}","pxt.json":"{\n    \"name\": \"Image Editor 1.2.10\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"ImageUtil.ts\"\n    ],\n    \"targetVersions\": {\n        \"branch\": \"v1.12.30\",\n        \"tag\": \"v1.12.30\",\n        \"commits\": \"https://github.com/microsoft/pxt-arcade/commits/33228b1cc7e1bea3f728c26a6047bdef35fd2c09\",\n        \"target\": \"1.12.30\",\n        \"pxt\": \"8.5.41\"\n    },\n    \"preferredEditor\": \"blocksprj\"\n}\n"}}],"shares":[],"lastSaveTime":1744201008131}